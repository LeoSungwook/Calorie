<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Calculator | ÏπºÎ°úÎ¶¨ Í≥ÑÏÇ∞Í∏∞</title>
    <meta name="description" content="Free Calorie Calculator - BMR, TDEE Calculator & Food Calories">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .lang-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .lang-switch-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .lang-switch-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 18px;
            opacity: 0.9;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .tab-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }

        .tab-btn {
            padding: 12px 30px;
            background: rgba(255,255,255,0.2);
            color: white;
            border: 2px solid white;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        .tab-btn.active {
            background: white;
            color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .calculators-wrapper {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
            margin-bottom: 30px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .calculator-container {
            background: white;
            border-radius: 20px;
            padding: 35px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .single-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 800px;
            margin: 0 auto;
        }

        h2 {
            color: #333;
            margin-bottom: 8px;
            font-size: 28px;
        }

        .subtitle {
            color: #666;
            margin-bottom: 25px;
            font-size: 14px;
        }

        .input-group {
            margin-bottom: 18px;
        }

        label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 15px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .radio-option input[type="radio"] {
            width: auto;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
            margin-top: 10px;
        }

        button:hover {
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .result {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 15px;
            color: white;
            display: none;
        }

        .result.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result h3 {
            margin-bottom: 15px;
            font-size: 20px;
        }

        .calorie-item {
            background: rgba(255,255,255,0.2);
            padding: 12px 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .calorie-label {
            font-size: 13px;
            margin-bottom: 3px;
        }

        .calorie-value {
            font-size: 24px;
            font-weight: bold;
        }

        .food-result {
            margin-top: 25px;
            padding: 25px;
            background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            border-radius: 15px;
            color: white;
            display: none;
        }

        .food-result.show {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .food-result h3 {
            margin-bottom: 15px;
            font-size: 22px;
        }

        .food-name {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .gram-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }

        .gram-item {
            background: rgba(255,255,255,0.25);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }

        .gram-amount {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .gram-calories {
            font-size: 22px;
            font-weight: bold;
        }

        .running-info {
            margin-top: 15px;
            padding: 12px;
            background: rgba(255,255,255,0.3);
            border-radius: 8px;
        }

        .running-time {
            font-size: 20px;
            font-weight: bold;
            margin-top: 5px;
        }

        .loading {
            text-align: center;
            padding: 20px;
            color: #666;
        }

        .loading-spinner {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            background: #ff6b6b;
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .info-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .info-box h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 22px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .info-item {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .info-item strong {
            color: #667eea;
            display: block;
            margin-bottom: 5px;
        }

        .info-item p {
            color: #666;
            font-size: 14px;
            line-height: 1.5;
        }

        footer {
            text-align: center;
            margin-top: 30px;
            color: white;
            font-size: 14px;
        }

        @media (max-width: 1024px) {
            .info-grid {
                grid-template-columns: 1fr;
            }

            .gram-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 28px;
            }

            .calculator-container, .single-container {
                padding: 25px;
            }

            h2 {
                font-size: 24px;
            }

            .tab-buttons {
                flex-direction: column;
            }

            .tab-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Ïñ∏Ïñ¥ Ï†ÑÌôò Î≤ÑÌäº -->
    <div class="lang-switch">
        <button class="lang-switch-btn" onclick="switchLanguage()">
            <span id="lang-switch-text">üá∞üá∑ ÌïúÍµ≠Ïñ¥</span>
        </button>
    </div>

    <div class="header">
        <h1 id="main-title">üî• Calorie Calculator</h1>
        <p id="main-subtitle">Manage your weight and food calories!</p>
    </div>

    <div class="main-container">
        <!-- ÌÉ≠ Î≤ÑÌäº -->
        <div class="tab-buttons">
            <button class="tab-btn active" onclick="switchTab('bmr')">
                <span id="tab-weight">üí™ Weight</span>
            </button>
            <button class="tab-btn" onclick="switchTab('food')">
                <span id="tab-food">üçΩÔ∏è Food</span>
            </button>
        </div>

        <!-- BMR/TDEE Í≥ÑÏÇ∞Í∏∞ ÌÉ≠ -->
        <div id="bmr-tab" class="tab-content active">
            <div class="calculators-wrapper">
                <div class="calculator-container">
                    <h2 id="calc-title">Calorie Calculator</h2>
                    <p class="subtitle" id="calc-subtitle">Calculate your daily calorie needs</p>

                    <div class="input-group">
                        <label id="label-gender">Gender</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="male" name="gender" value="male" checked>
                                <label for="male" id="label-male">Male</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="female" name="gender" value="female">
                                <label for="female" id="label-female">Female</label>
                            </div>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="age" id="label-age">Age (years)</label>
                        <input type="number" id="age" placeholder="e.g., 25" min="1" max="120">
                    </div>

                    <div class="input-group">
                        <label for="height" id="label-height">Height (cm)</label>
                        <input type="number" id="height" placeholder="e.g., 170" min="100" max="250">
                    </div>

                    <div class="input-group">
                        <label for="weight" id="label-weight">Weight (kg)</label>
                        <input type="number" id="weight" placeholder="e.g., 65" min="20" max="300">
                    </div>

                    <div class="input-group">
                        <label for="activity" id="label-activity">Activity Level</label>
                        <select id="activity">
                            <option value="1.2" id="opt-sedentary">Sedentary (0-1 times/week)</option>
                            <option value="1.375" id="opt-light">Lightly Active (2-3 times/week)</option>
                            <option value="1.55" selected id="opt-moderate">Moderately Active (3-5 times/week)</option>
                            <option value="1.725" id="opt-very">Very Active (6-7 times/week)</option>
                            <option value="1.9" id="opt-extreme">Extremely Active (2x per day)</option>
                        </select>
                    </div>

                    <button onclick="calculateCalories()" id="btn-calculate">Calculate</button>

                    <div id="result" class="result">
                        <h3 id="result-title">üìä Results</h3>
                        <div class="calorie-item">
                            <div class="calorie-label" id="label-bmr">Basal Metabolic Rate (BMR)</div>
                            <div class="calorie-value" id="bmr-value">-</div>
                        </div>
                        <div class="calorie-item">
                            <div class="calorie-label" id="label-tdee">Maintenance Calories (TDEE)</div>
                            <div class="calorie-value" id="tdee-value">-</div>
                        </div>
                        <div class="calorie-item">
                            <div class="calorie-label" id="label-diet">Weight Loss Calories</div>
                            <div class="calorie-value" id="diet-value">-</div>
                        </div>
                        <div class="calorie-item">
                            <div class="calorie-label" id="label-bulk">Weight Gain Calories</div>
                            <div class="calorie-value" id="bulk-value">-</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h3 id="info-title">üí° Information Guide</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <strong>BMR</strong>
                        <p id="info-bmr">Calories burned at rest</p>
                    </div>
                    <div class="info-item">
                        <strong>TDEE</strong>
                        <p id="info-tdee">Total daily energy expenditure</p>
                    </div>
                    <div class="info-item">
                        <strong id="info-loss-title">Weight Loss</strong>
                        <p id="info-loss">Recommended for weight loss (-500kcal)</p>
                    </div>
                    <div class="info-item">
                        <strong id="info-gain-title">Weight Gain</strong>
                        <p id="info-gain">Recommended for muscle gain (+500kcal)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÏùåÏãù ÏπºÎ°úÎ¶¨ Í≤ÄÏÉâ ÌÉ≠ -->
        <div id="food-tab" class="tab-content">
            <div class="single-container">
                <h2 id="food-title">üçΩÔ∏è Food Calorie Search</h2>
                <p class="subtitle" id="food-subtitle">Enter a food name to check calories from 100g to 500g</p>

                <div class="input-group">
                    <label for="food-search" id="label-food-name">Food Name</label>
                    <input type="text" id="food-search" placeholder="e.g., apple, chicken, rice">
                </div>

                <button onclick="searchFoodCalories()" id="btn-search">Search</button>

                <div id="loading" class="loading" style="display: none;">
                    <div class="loading-spinner"></div>
                    <p id="loading-text">Searching...</p>
                </div>

                <div id="error-message" class="error-message"></div>

                <div id="food-result" class="food-result">
                    <h3 id="food-result-title">üç¥ Search Results</h3>
                    <div class="food-name" id="food-name"></div>
                    <div class="gram-grid" id="gram-grid"></div>
                </div>

                <div class="info-box" style="margin-top: 30px;">
                    <h3 id="tips-title">üìù Tips</h3>
                    <div class="info-item">
                        <strong id="tips-subtitle">For accurate search</strong>
                        <p id="tips-1">‚Ä¢ Enter food name in Korean or English (e.g., apple, ÏÇ¨Í≥º)</p>
                        <p id="tips-2">‚Ä¢ Simple names work better (e.g., rice, chicken, banana)</p>
                        <p id="tips-3">‚Ä¢ Calories calculated per 100g</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p id="footer-1">Healthy weight loss takes time!</p>
        <p id="footer-2">Extreme calorie restriction may be harmful</p>
    </footer>

    <script>
        // Ïñ∏Ïñ¥ ÏÑ§Ï†ï
        const translations = {
            en: {
                mainTitle: "üî• Calorie Calculator",
                mainSubtitle: "Manage your weight and food calories!",
                tabWeight: "üí™ Weight",
                tabFood: "üçΩÔ∏è Food",
                calcTitle: "Calorie Calculator",
                calcSubtitle: "Calculate your daily calorie needs",
                labelGender: "Gender",
                labelMale: "Male",
                labelFemale: "Female",
                labelAge: "Age (years)",
                labelHeight: "Height (cm)",
                labelWeight: "Weight (kg)",
                labelActivity: "Activity Level",
                optSedentary: "Sedentary (0-1 times/week)",
                optLight: "Lightly Active (2-3 times/week)",
                optModerate: "Moderately Active (3-5 times/week)",
                optVery: "Very Active (6-7 times/week)",
                optExtreme: "Extremely Active (2x per day)",
                btnCalculate: "Calculate",
                resultTitle: "üìä Results",
                labelBmr: "Basal Metabolic Rate (BMR)",
                labelTdee: "Maintenance Calories (TDEE)",
                labelDiet: "Weight Loss Calories",
                labelBulk: "Weight Gain Calories",
                infoTitle: "üí° Information Guide",
                infoBmr: "Calories burned at rest",
                infoTdee: "Total daily energy expenditure",
                infoLossTitle: "Weight Loss",
                infoLoss: "Recommended for weight loss (-500kcal)",
                infoGainTitle: "Weight Gain",
                infoGain: "Recommended for muscle gain (+500kcal)",
                foodTitle: "üçΩÔ∏è Food Calorie Search",
                foodSubtitle: "Enter a food name to check calories from 100g to 500g",
                labelFoodName: "Food Name",
                placeholderFood: "e.g., apple, chicken, rice",
                btnSearch: "Search",
                loadingText: "Searching...",
                foodResultTitle: "üç¥ Search Results",
                tipsTitle: "üìù Tips",
                tipsSubtitle: "For accurate search",
                tips1: "‚Ä¢ Enter food name in Korean or English (e.g., apple, ÏÇ¨Í≥º)",
                tips2: "‚Ä¢ Simple names work better (e.g., rice, chicken, banana)",
                tips3: "‚Ä¢ Calories calculated per 100g",
                footer1: "Healthy weight loss takes time!",
                footer2: "Extreme calorie restriction may be harmful",
                alertFillFields: "Please fill in all fields!",
                alertEnterFood: "Please enter a food name!",
                errorNotFound: "Cannot find calorie information for \"{food}\". Please try another food.",
                runningLabel: "üèÉ Light Running",
                runningMinutes: "{min} min",
                langSwitchText: "üá∞üá∑ ÌïúÍµ≠Ïñ¥",
                placeholderAge: "e.g., 25",
                placeholderHeight: "e.g., 170",
                placeholderWeight: "e.g., 65"
            },
            ko: {
                mainTitle: "üî• ÏπºÎ°úÎ¶¨ Í≥ÑÏÇ∞Í∏∞",
                mainSubtitle: "Ï≤¥Ï§ë Í¥ÄÎ¶¨ÏôÄ ÏùåÏãù ÏπºÎ°úÎ¶¨Î•º Ìïú Î≤àÏóê!",
                tabWeight: "üí™ Ï≤¥Ï§ë Í¥ÄÎ¶¨",
                tabFood: "üçΩÔ∏è ÏùåÏãù ÏπºÎ°úÎ¶¨",
                calcTitle: "ÏπºÎ°úÎ¶¨ Í≥ÑÏÇ∞Í∏∞",
                calcSubtitle: "ÌïòÎ£® Í∂åÏû• ÏπºÎ°úÎ¶¨Î•º Í≥ÑÏÇ∞Ìï¥Î≥¥ÏÑ∏Ïöî",
                labelGender: "ÏÑ±Î≥Ñ",
                labelMale: "ÎÇ®ÏÑ±",
                labelFemale: "Ïó¨ÏÑ±",
                labelAge: "ÎÇòÏù¥ (ÏÑ∏)",
                labelHeight: "ÌÇ§ (cm)",
                labelWeight: "Ï≤¥Ï§ë (kg)",
                labelActivity: "ÌôúÎèô ÏàòÏ§Ä",
                optSedentary: "Í±∞Ïùò Ïö¥Îèô ÏïàÌï® (Ï£º 0-1Ìöå)",
                optLight: "Í∞ÄÎ≤ºÏö¥ ÌôúÎèô (Ï£º 2-3Ìöå)",
                optModerate: "Î≥¥ÌÜµ ÌôúÎèô (Ï£º 3-5Ìöå)",
                optVery: "ÌôúÎ∞úÌïú ÌôúÎèô (Ï£º 6-7Ìöå)",
                optExtreme: "Îß§Ïö∞ ÌôúÎ∞ú (ÌïòÎ£® 2Ìöå Ïö¥Îèô)",
                btnCalculate: "Í≥ÑÏÇ∞ÌïòÍ∏∞",
                resultTitle: "üìä Í≥ÑÏÇ∞ Í≤∞Í≥º",
                labelBmr: "Í∏∞Ï¥àÎåÄÏÇ¨Îüâ (BMR)",
                labelTdee: "Ïú†ÏßÄ ÏπºÎ°úÎ¶¨ (TDEE)",
                labelDiet: "Îã§Ïù¥Ïñ¥Ìä∏ ÏπºÎ°úÎ¶¨",
                labelBulk: "Ï¶ùÎüâ ÏπºÎ°úÎ¶¨",
                infoTitle: "üí° Ï†ïÎ≥¥ ÏïàÎÇ¥",
                infoBmr: "ÏïÑÎ¨¥Í≤ÉÎèÑ ÌïòÏßÄ ÏïäÏïÑÎèÑ ÏÜåÎ™®ÎêòÎäî ÏπºÎ°úÎ¶¨",
                infoTdee: "ÏùºÏÉÅ ÌôúÎèôÏùÑ Ìè¨Ìï®Ìïú ÌïòÎ£® ÏÜåÎ™® ÏπºÎ°úÎ¶¨",
                infoLossTitle: "Îã§Ïù¥Ïñ¥Ìä∏",
                infoLoss: "Ï≤¥Ï§ë Í∞êÎüâÏùÑ ÏúÑÌïú Í∂åÏû• ÏπºÎ°úÎ¶¨ (-500kcal)",
                infoGainTitle: "Ï¶ùÎüâ",
                infoGain: "Í∑ºÏú°Îüâ Ï¶ùÍ∞ÄÎ•º ÏúÑÌïú Í∂åÏû• ÏπºÎ°úÎ¶¨ (+500kcal)",
                foodTitle: "üçΩÔ∏è ÏùåÏãù ÏπºÎ°úÎ¶¨ Í≤ÄÏÉâ",
                foodSubtitle: "ÏùåÏãù Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÎ©¥ 100g ~ 500gÍπåÏßÄÏùò ÏπºÎ°úÎ¶¨Î•º ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§",
                labelFoodName: "ÏùåÏãù Ïù¥Î¶Ñ",
                placeholderFood: "Ïòà: ÏÇ¨Í≥º, ÏπòÌÇ®, Î∞•",
                btnSearch: "Í≤ÄÏÉâÌïòÍ∏∞",
                loadingText: "Í≤ÄÏÉâ Ï§ëÏûÖÎãàÎã§...",
                foodResultTitle: "üç¥ Í≤ÄÏÉâ Í≤∞Í≥º",
                tipsTitle: "üìù ÏÇ¨Ïö© ÌåÅ",
                tipsSubtitle: "Ï†ïÌôïÌïú Í≤ÄÏÉâÏùÑ ÏúÑÌï¥",
                tips1: "‚Ä¢ ÌïúÍµ≠Ïñ¥ÎÇò ÏòÅÏñ¥Î°ú ÏùåÏãù Ïù¥Î¶Ñ ÏûÖÎ†• (Ïòà: ÏÇ¨Í≥º, apple)",
                tips2: "‚Ä¢ Í∞ÑÎã®Ìïú Ïù¥Î¶ÑÏù¥ Îçî Ï†ïÌôïÌï©ÎãàÎã§ (Ïòà: Î∞•, ÏπòÌÇ®, Î∞îÎÇòÎÇò)",
                tips3: "‚Ä¢ 100g Í∏∞Ï§Ä ÏπºÎ°úÎ¶¨Î•º ÏûêÎèôÏúºÎ°ú Í≥ÑÏÇ∞Ìï©ÎãàÎã§",
                footer1: "Í±¥Í∞ïÌïú Îã§Ïù¥Ïñ¥Ìä∏Îäî Ï≤úÏ≤úÌûà!",
                footer2: "Í∏âÍ≤©Ìïú ÏπºÎ°úÎ¶¨ Ï†úÌïúÏùÄ Í±¥Í∞ïÏóê Ìï¥Î°úÏö∏ Ïàò ÏûàÏäµÎãàÎã§",
                alertFillFields: "Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!",
                alertEnterFood: "ÏùåÏãù Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî!",
                errorNotFound: "\"{food}\"Ïóê ÎåÄÌïú ÏπºÎ°úÎ¶¨ Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Îã§Î•∏ ÏùåÏãùÏùÑ Í≤ÄÏÉâÌï¥Î≥¥ÏÑ∏Ïöî.",
                runningLabel: "üèÉ Í∞ÄÎ≤ºÏö¥ Îü¨Îãù",
                runningMinutes: "{min}Î∂Ñ",
                langSwitchText: "üá∫üá∏ English",
                placeholderAge: "Ïòà: 25",
                placeholderHeight: "Ïòà: 170",
                placeholderWeight: "Ïòà: 65"
            }
        };

        let currentLang = localStorage.getItem('selectedLanguage') || 'en';

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïñ∏Ïñ¥ Ï†ÅÏö©
        window.addEventListener('DOMContentLoaded', function() {
            applyLanguage(currentLang);
        });

        function applyLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // Î™®Îì† ÌÖçÏä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏
            document.getElementById('main-title').textContent = t.mainTitle;
            document.getElementById('main-subtitle').textContent = t.mainSubtitle;
            document.getElementById('tab-weight').textContent = t.tabWeight;
            document.getElementById('tab-food').textContent = t.tabFood;
            document.getElementById('calc-title').textContent = t.calcTitle;
            document.getElementById('calc-subtitle').textContent = t.calcSubtitle;
            document.getElementById('label-gender').textContent = t.labelGender;
            document.getElementById('label-male').textContent = t.labelMale;
            document.getElementById('label-female').textContent = t.labelFemale;
            document.getElementById('label-age').textContent = t.labelAge;
            document.getElementById('label-height').textContent = t.labelHeight;
            document.getElementById('label-weight').textContent = t.labelWeight;
            document.getElementById('label-activity').textContent = t.labelActivity;
            document.getElementById('opt-sedentary').textContent = t.optSedentary;
            document.getElementById('opt-light').textContent = t.optLight;
            document.getElementById('opt-moderate').textContent = t.optModerate;
            document.getElementById('opt-very').textContent = t.optVery;
            document.getElementById('opt-extreme').textContent = t.optExtreme;
            document.getElementById('btn-calculate').textContent = t.btnCalculate;
            document.getElementById('result-title').textContent = t.resultTitle;
            document.getElementById('label-bmr').textContent = t.labelBmr;
            document.getElementById('label-tdee').textContent = t.labelTdee;
            document.getElementById('label-diet').textContent = t.labelDiet;
            document.getElementById('label-bulk').textContent = t.labelBulk;
            document.getElementById('info-title').textContent = t.infoTitle;
            document.getElementById('info-bmr').textContent = t.infoBmr;
            document.getElementById('info-tdee').textContent = t.infoTdee;
            document.getElementById('info-loss-title').textContent = t.infoLossTitle;
            document.getElementById('info-loss').textContent = t.infoLoss;
            document.getElementById('info-gain-title').textContent = t.infoGainTitle;
            document.getElementById('info-gain').textContent = t.infoGain;
            document.getElementById('food-title').textContent = t.foodTitle;
            document.getElementById('food-subtitle').textContent = t.foodSubtitle;
            document.getElementById('label-food-name').textContent = t.labelFoodName;
            document.getElementById('food-search').placeholder = t.placeholderFood;
            document.getElementById('btn-search').textContent = t.btnSearch;
            document.getElementById('loading-text').textContent = t.loadingText;
            document.getElementById('food-result-title').textContent = t.foodResultTitle;
            document.getElementById('tips-title').textContent = t.tipsTitle;
            document.getElementById('tips-subtitle').textContent = t.tipsSubtitle;
            document.getElementById('tips-1').textContent = t.tips1;
            document.getElementById('tips-2').textContent = t.tips2;
            document.getElementById('tips-3').textContent = t.tips3;
            document.getElementById('footer-1').textContent = t.footer1;
            document.getElementById('footer-2').textContent = t.footer2;
            document.getElementById('lang-switch-text').textContent = t.langSwitchText;
            document.getElementById('age').placeholder = t.placeholderAge;
            document.getElementById('height').placeholder = t.placeholderHeight;
            document.getElementById('weight').placeholder = t.placeholderWeight;

            localStorage.setItem('selectedLanguage', lang);
        }

        function switchLanguage() {
            const newLang = currentLang === 'en' ? 'ko' : 'en';
            applyLanguage(newLang);
        }

        // ÌÉ≠ Ï†ÑÌôò
        function switchTab(tab) {
            const tabs = document.querySelectorAll('.tab-content');
            const buttons = document.querySelectorAll('.tab-btn');
            
            tabs.forEach(t => t.classList.remove('active'));
            buttons.forEach(b => b.classList.remove('active'));
            
            if (tab === 'bmr') {
                document.getElementById('bmr-tab').classList.add('active');
                buttons[0].classList.add('active');
            } else {
                document.getElementById('food-tab').classList.add('active');
                buttons[1].classList.add('active');
            }
        }

        function calculateCalories() {
            const t = translations[currentLang];
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const age = parseFloat(document.getElementById('age').value);
            const height = parseFloat(document.getElementById('height').value);
            const weight = parseFloat(document.getElementById('weight').value);
            const activity = parseFloat(document.getElementById('activity').value);

            if (!age || !height || !weight) {
                alert(t.alertFillFields);
                return;
            }

            let bmr;
            if (gender === 'male') {
                bmr = 88.362 + (13.397 * weight) + (4.799 * height) - (5.677 * age);
            } else {
                bmr = 447.593 + (9.247 * weight) + (3.098 * height) - (4.330 * age);
            }

            const tdee = bmr * activity;
            const dietCalories = tdee - 500;
            const bulkCalories = tdee + 500;

            document.getElementById('bmr-value').textContent = Math.round(bmr) + ' kcal';
            document.getElementById('tdee-value').textContent = Math.round(tdee) + ' kcal';
            document.getElementById('diet-value').textContent = Math.round(dietCalories) + ' kcal';
            document.getElementById('bulk-value').textContent = Math.round(bulkCalories) + ' kcal';

            document.getElementById('result').classList.add('show');
            document.getElementById('result').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // ÏùåÏãù ÏπºÎ°úÎ¶¨ Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ (100g Í∏∞Ï§Ä)
        const foodDatabase = {
            'Î∞•': 130, 'Î∞±ÎØ∏': 130, 'ÌòÑÎØ∏': 110, 'ÏåÄÎ∞•': 130,
            'ÍπÄÏπò': 15, 'Î∞∞Ï∂îÍπÄÏπò': 15,
            'ÎêúÏû•Ï∞åÍ∞ú': 50, 'ÍπÄÏπòÏ∞åÍ∞ú': 60, 'ÏàúÎëêÎ∂ÄÏ∞åÍ∞ú': 80,
            'Î∂àÍ≥†Í∏∞': 180, 'Í∞àÎπÑ': 250, 'ÏÇºÍ≤πÏÇ¥': 330,
            'ÏπòÌÇ®': 230, 'Îã≠Í∞ÄÏä¥ÏÇ¥': 165, 'Í≥ÑÎûÄ': 155,
            'ÎùºÎ©¥': 380, 'Îñ°Î≥∂Ïù¥': 120, 'ÍπÄÎ∞•': 180,
            'ÎπÑÎπîÎ∞•': 140, 'ÎÉâÎ©¥': 130, 'ÏßúÏû•Î©¥': 150,
            'ÎßåÎëê': 200, 'Íµ∞ÎßåÎëê': 220, 'Î¨ºÎßåÎëê': 180,
            'ÌîºÏûê': 266, 'ÌñÑÎ≤ÑÍ±∞': 250, 'ÏπòÏ¶àÎ≤ÑÍ±∞': 280,
            'ÎèàÍπåÏä§': 300, 'ÌÉïÏàòÏú°': 250, 'Ïß¨ÎΩï': 100,
            'ÏπºÍµ≠Ïàò': 90, 'ÏàòÏ†úÎπÑ': 85, 'Íµ≠Î∞•': 100,
            'ÏÇ¨Í≥º': 52, 'Î∞îÎÇòÎÇò': 89, 'Ïò§Î†åÏßÄ': 47, 'Îî∏Í∏∞': 32,
            'ÏàòÎ∞ï': 30, 'Ìè¨ÎèÑ': 69, 'Î≥µÏà≠ÏïÑ': 39, 'Î∞∞': 57,
            'ÌÇ§ÏúÑ': 61, 'ÎßùÍ≥†': 60, 'ÌååÏù∏Ïï†Ìîå': 50, 'Ï≤¥Î¶¨': 50,
            'ÏñëÎ∞∞Ï∂î': 25, 'ÏÉÅÏ∂î': 15, 'Ïò§Ïù¥': 15, 'ÌÜ†ÎßàÌÜ†': 18,
            'ÎãπÍ∑º': 41, 'Î∏åÎ°úÏΩúÎ¶¨': 34, 'ÏãúÍ∏àÏπò': 23, 'ÏñëÌåå': 40,
            'ÏÜåÍ≥†Í∏∞': 250, 'ÎèºÏßÄÍ≥†Í∏∞': 242, 'Îã≠Í≥†Í∏∞': 165,
            'ÏÇºÏπò': 200, 'Í≥†Îì±Ïñ¥': 205, 'Ïó∞Ïñ¥': 208,
            'ÏãùÎπµ': 265, 'ÌÅ¨Î°úÏôÄÏÉÅ': 406, 'Î≤†Ïù¥Í∏Ä': 250,
            'Ï¥àÏΩúÎ¶ø': 546, 'Í∞êÏûêÏπ©': 536, 'Ïø†ÌÇ§': 502,
            'Ïö∞Ïú†': 61, 'ÎëêÏú†': 54, 'ÏöîÍ±∞Ìä∏': 59,
            'ÏΩúÎùº': 42, 'ÏÇ¨Ïù¥Îã§': 38, 'Ï£ºÏä§': 45,
            'apple': 52, 'banana': 89, 'orange': 47, 'strawberry': 32,
            'rice': 130, 'chicken': 165, 'beef': 250, 'pork': 242,
            'bread': 265, 'egg': 155, 'milk': 61, 'yogurt': 59,
            'chocolate': 546, 'cookie': 502, 'pizza': 266,
            'burger': 250, 'fries': 312, 'pasta': 131,
            'salmon': 208, 'tuna': 184, 'shrimp': 99,
            'broccoli': 34, 'carrot': 41, 'tomato': 18,
            'potato': 77, 'sweet potato': 86,
            'dumpling': 200, 'noodles': 138, 'ramen': 380,
        };

        async function searchFoodCalories() {
            const t = translations[currentLang];
            const searchInput = document.getElementById('food-search').value.trim().toLowerCase();
            const loading = document.getElementById('loading');
            const errorMsg = document.getElementById('error-message');
            const result = document.getElementById('food-result');
            const searchBtn = document.getElementById('btn-search');

            if (!searchInput) {
                errorMsg.textContent = t.alertEnterFood;
                errorMsg.classList.add('show');
                setTimeout(() => errorMsg.classList.remove('show'), 3000);
                return;
            }

            loading.style.display = 'block';
            errorMsg.classList.remove('show');
            result.classList.remove('show');
            searchBtn.disabled = true;

            let caloriesPer100g = foodDatabase[searchInput];

            if (caloriesPer100g) {
                displayFoodResult(searchInput, caloriesPer100g);
                loading.style.display = 'none';
                searchBtn.disabled = false;
            } else {
                const similarFoods = findSimilarFoods(searchInput);
                if (similarFoods.length > 0) {
                    caloriesPer100g = foodDatabase[similarFoods[0]];
                    displayFoodResult(similarFoods[0], caloriesPer100g);
                    loading.style.display = 'none';
                    searchBtn.disabled = false;
                } else {
                    loading.style.display = 'none';
                    searchBtn.disabled = false;
                    result.classList.remove('show');
                    errorMsg.textContent = t.errorNotFound.replace('{food}', searchInput);
                    errorMsg.classList.add('show');
                }
            }
        }

        function findSimilarFoods(searchTerm) {
            const results = [];
            for (let food in foodDatabase) {
                if (food.includes(searchTerm) || searchTerm.includes(food)) {
                    results.push(food);
                }
            }
            return results;
        }

        function displayFoodResult(foodName, caloriesPer100g) {
            const t = translations[currentLang];
            const result = document.getElementById('food-result');
            const foodNameDiv = document.getElementById('food-name');
            const gramGrid = document.getElementById('gram-grid');

            foodNameDiv.textContent = `${foodName.charAt(0).toUpperCase() + foodName.slice(1)} (${caloriesPer100g} kcal / 100g)`;

            gramGrid.innerHTML = '';
            [100, 200, 300, 400, 500].forEach(grams => {
                const calories = Math.round((caloriesPer100g * grams) / 100);
                const runningMinutes = Math.round(calories / 8);
                
                const gramItem = document.createElement('div');
                gramItem.className = 'gram-item';
                gramItem.innerHTML = `
                    <div class="gram-amount">${grams}g</div>
                    <div class="gram-calories">${calories} kcal</div>
                    <div class="running-info">
                        <div style="font-size: 14px; opacity: 0.9;">${t.runningLabel}</div>
                        <div class="running-time">${t.runningMinutes.replace('{min}', runningMinutes)}</div>
                    </div>
                `;
                gramGrid.appendChild(gramItem);
            });

            result.classList.add('show');
            result.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Enter ÌÇ§Î°ú Í≥ÑÏÇ∞
        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    if (this.id === 'food-search') {
                        searchFoodCalories();
                    } else {
                        calculateCalories();
                    }
                }
            });
        });
    </script>
</body>
</html>